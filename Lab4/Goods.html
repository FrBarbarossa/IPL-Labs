<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta lang="ru">
    <title>Четвёртая ЛР</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="http://code.jquery.com/jquery-latest.js"></script>

    <style>
        html {
            position: relative;
            min-height: 100%;
        }

        body {
            margin-bottom: 40px;
        }

        main {
            margin-top: 15px;
        }

        footer {
            height: 40px;
            position: absolute;
            bottom: 0;
            width: 100%;
        }

        .my-primary {
            background-color: #007E33;
            color: white;
        }
    </style>

    <script>
        $(document).ready(function () {
            var counter = 0;
            $('#submitBtn').click(function () {
                console.log($('#name').val() + $('#cost').val());
                $('#bill tr').last().before(`<tr class='d_row' onMouseOut="mouseOut(this)" onMouseOver="mouseOver(this)"><td>` + $('#name').val() + "</td>" + `<td class='bill_cost'>` + $('#cost').val() + "</tr>");
                $('#name').val('');
                $('#cost').val('');
                counter++;
            })
        }
        )

        $(document).ready(function () {
            $('#clientForm').submit(function (evt) {
                evt.preventDefault();
            })
        }
        )

        $(document).ready(function () {
            $('#count').click(function () {
                $('#out').html(' ');
                $('.bill_cost').each(function (index) {
                    console.log(Number($(this).text()))
                    $('#out').html(Number($('#out').html()) + Number($(this).text()))
                    console.log($('#out').val());
                    // console.log('!')
                })
            })
        })

        function mouseOver(el) {
            console.log('входит');
            el.style.backgroundColor = "yellow";
        }
        function mouseOut(el) {
            console.log('выходит')
            el.style.backgroundColor = "white";
        }
    </script>
</head>

<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-dark my-primary">
            <a class="navbar-brand" href="#">Navbar</a>
            
        </nav>
    </header>
    <main class="container">
        <div class="row">
            <div class="col-4">
                <form id="clientForm" action="">
                    <table>
                        <tr>
                            <td><span>Введите название продукта:</span></td>
                            <td>
                                <input class='form-control' id="name" type="text" placeholder="Название продукта" required>
                            </td>
                        </tr>
                        <tr>
                            <td><span>Введите цену продукта:</span></td>
                            <td>
                                <input id="cost" class='form-control' type="text" placeholder="Цена в руб." required>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input class='btn btn-primary' id="submitBtn" type="submit" action=""></input>
                            </td>
                        </tr>
                    </table>
                </form>
            </div>
            <div class="col-3">
                <table id="bill" class="table">
                    <th>Наименование</th>
                    <th>Стоимость</th>
                    <tr>
                        <td>Итого:</td>
                        <td id="out">0</td>
                    </tr>
                </table>
            </div>
            <div class="col-4">
                <button id="count" class="btn btn-info">Рассчитать чек</button>
            </div>
        </div>
    </main>

    <footer class="my-primary">
        <div class="container">
            <p class="footer-text">Footer</p>
        </div>
    </footer>
</body>

</html>